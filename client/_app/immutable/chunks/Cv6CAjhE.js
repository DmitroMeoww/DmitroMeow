import{A as p,h as c,f as m,v as g,B as E,C as u,F as y,G as R,I as T,J as b,g as w,K as l,d as N,E as A}from"./DcWvUvY3.js";import{a as v,c as C}from"./BCyM_82f.js";import{B as O}from"./aVNq5FiC.js";function k(d,_,s=!1,r=!1,n=!1){var t=d,i="";p(()=>{var o=g;if(i===(i=_()??"")){c&&m();return}if(o.nodes!==null&&(E(o.nodes.start,o.nodes.end),o.nodes=null),i!==""){if(c){u.data;for(var a=m(),h=a;a!==null&&(a.nodeType!==y||a.data!=="");)h=a,a=R(a);if(a===null)throw T(),b;v(u,h),t=w(a);return}var f=i+"";s?f=`<svg>${f}</svg>`:r&&(f=`<math>${f}</math>`);var e=C(f);if((s||r)&&(e=l(e)),v(l(e),e.lastChild),s||r)for(;l(e);)t.before(l(e));else t.before(e)}})}function D(d,_,...s){var r=new O(d);N(()=>{const n=_()??null;r.ensure(n,n&&(t=>n(t,...s)))},A)}export{k as h,D as s};
